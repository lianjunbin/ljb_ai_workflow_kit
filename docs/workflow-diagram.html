<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Workflow v1.4 - AI å¼€å‘å·¥ä½œæµ</title>
    <style>
        :root {
            --bg-primary: #1a1d24;
            --bg-secondary: #22262f;
            --bg-card: #282c35;
            --border-subtle: rgba(255, 255, 255, 0.12);
            --border-hover: rgba(255, 255, 255, 0.25);
            --text-primary: #f0f0f5;
            --text-secondary: #a0a5b5;
            --text-muted: #6b7280;
            --accent-cyan: #22d3ee;
            --accent-green: #34d399;
            --accent-yellow: #fbbf24;
            --accent-purple: #a78bfa;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Ambient Background */
        .ambient-bg {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
        }

        .ambient-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.15;
        }

        .orb-1 {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--accent-cyan) 0%, transparent 70%);
            top: -100px;
            right: 0;
        }

        .orb-2 {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--accent-purple) 0%, transparent 70%);
            bottom: 0;
            left: -50px;
        }

        .app {
            position: relative;
            z-index: 1;
            padding: 20px 32px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-green));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .logo h1 {
            font-size: 1.1rem;
            background: linear-gradient(120deg, var(--accent-cyan), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .version-badge {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        /* Flow Bar - Ultra Compact */
        .flow-bar {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 12px 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 6px;
            overflow-x: auto;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .flow-node {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .flow-node:hover {
            background: #2d323d;
            border-color: var(--node-color);
        }

        .flow-node.active {
            background: #2d323d;
            border-color: var(--node-color);
            box-shadow: 0 0 12px rgba(0, 212, 255, 0.2);
        }

        .flow-node-icon { font-size: 0.9rem; }
        .flow-node-name {
            font-size: 0.65rem;
            font-weight: 600;
            color: var(--node-color);
        }

        .flow-node-badge {
            font-size: 0.5rem;
            padding: 1px 4px;
            background: rgba(0, 212, 255, 0.2);
            border-radius: 6px;
            color: var(--accent-cyan);
        }

        .flow-arrow {
            color: var(--text-muted);
            font-size: 0.7rem;
            flex-shrink: 0;
        }

        .node-init { --node-color: #ff6b6b; }
        .node-start { --node-color: #ffd93d; }
        .node-api { --node-color: #48dbfb; }
        .node-before { --node-color: #ff9ff3; }
        .node-assess { --node-color: #f97316; }
        .node-design { --node-color: #00d4ff; }
        .node-audit { --node-color: #ff6b6b; }
        .node-apply { --node-color: #ffd93d; }
        .node-review { --node-color: #00ff88; }
        .node-archive { --node-color: #a855f7; }

        /* Card relevance animations */
        .cmd-card {
            transition: all 0.3s ease-out;
        }

        .cmd-card.primary-match {
            border-color: var(--cmd-color, var(--accent-cyan)) !important;
            background: rgba(0, 212, 255, 0.08);
            transform: scale(1.02);
            box-shadow: 0 4px 20px rgba(0, 212, 255, 0.15);
            order: -3 !important;
        }

        .cmd-card.adjacent-match {
            border-color: rgba(255, 255, 255, 0.15);
            background: rgba(255, 255, 255, 0.04);
            order: -2 !important;
        }

        .cmd-card.related-match {
            opacity: 0.9;
            order: -1 !important;
        }

        .cmd-card.dimmed {
            opacity: 0.5;
            transform: scale(0.98);
        }

        /* Flow node click feedback */
        .flow-node {
            user-select: none;
            position: relative;
        }

        .flow-node:active {
            transform: scale(0.95);
        }

        /* Selection indicator */
        .flow-node.selected {
            background: rgba(255, 255, 255, 0.12) !important;
            border-color: var(--node-color) !important;
            box-shadow: 0 0 16px color-mix(in srgb, var(--node-color) 30%, transparent);
        }

        .flow-node.selected::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid var(--node-color);
        }

        /* Main content layout */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 360px;
            gap: 16px;
            margin-bottom: 16px;
        }

        /* Commands grid */
        .commands-section {
            min-width: 0;
        }

        /* Stage detail panel */
        .stage-detail {
            display: block;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 16px;
            height: fit-content;
            position: sticky;
            top: 20px;
            max-height: calc(100vh - 180px);
            overflow-y: auto;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .stage-detail-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .stage-detail-title {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stage-detail-title .icon {
            font-size: 1.4rem;
        }

        .stage-detail-title h3 {
            font-size: 1rem;
            color: var(--stage-color, var(--accent-cyan));
            margin: 0;
        }

        .stage-detail-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .stage-detail-section {
            margin-bottom: 16px;
        }

        .stage-detail-section h4 {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .stage-cmd-item {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 10px 12px;
            margin-bottom: 8px;
            border: 1px solid var(--border-subtle);
        }

        .stage-cmd-name {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.8rem;
            color: var(--accent-green);
            margin-bottom: 4px;
        }

        .stage-cmd-desc {
            font-size: 0.7rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .stage-example {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.7rem;
            color: var(--text-secondary);
            padding: 8px 10px;
            background: var(--bg-primary);
            border-radius: 6px;
            border-left: 3px solid var(--stage-color, var(--accent-cyan));
            margin-bottom: 6px;
        }

        .stage-tips {
            background: rgba(34, 211, 238, 0.1);
            border: 1px solid rgba(34, 211, 238, 0.25);
            border-radius: 8px;
            padding: 10px 12px;
        }

        .stage-tips h5 {
            font-size: 0.7rem;
            color: var(--accent-cyan);
            margin-bottom: 6px;
        }

        .stage-tips ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .stage-tips li {
            font-size: 0.68rem;
            color: var(--text-secondary);
            padding-left: 14px;
            position: relative;
            margin-bottom: 4px;
        }

        .stage-tips li::before {
            content: 'â€¢';
            position: absolute;
            left: 0;
            color: var(--accent-cyan);
        }

        /* Flow indicator line */
        .stage-flow-hint {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.65rem;
            color: var(--text-muted);
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-subtle);
        }

        .stage-flow-hint .prev,
        .stage-flow-hint .next {
            padding: 3px 8px;
            background: var(--glass-bg);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .stage-flow-hint .prev:hover,
        .stage-flow-hint .next:hover {
            background: rgba(255, 255, 255, 0.08);
            color: var(--text-primary);
        }

        /* Command Reference - All Commands Visible */
        .commands-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 16px;
        }

        .commands-grid .cmd-card {
            flex: 1 1 calc(33.333% - 8px);
            min-width: 280px;
            max-width: calc(33.333% - 8px);
        }

        .cmd-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 14px;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .cmd-card:hover {
            border-color: var(--cmd-color, var(--accent-cyan));
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .cmd-card.active {
            border-color: var(--cmd-color, var(--accent-cyan));
            background: #2d323d;
        }

        .cmd-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .cmd-icon {
            font-size: 1.1rem;
        }

        .cmd-name {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.8rem;
            color: var(--accent-green);
        }

        .cmd-badge {
            font-size: 0.55rem;
            padding: 2px 5px;
            background: rgba(0, 212, 255, 0.15);
            border-radius: 8px;
            color: var(--accent-cyan);
            margin-left: auto;
        }

        .cmd-desc {
            font-size: 0.72rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .cmd-examples {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .cmd-example {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.68rem;
            color: var(--text-secondary);
            padding: 5px 8px;
            background: var(--bg-primary);
            border-radius: 4px;
            border-left: 2px solid var(--cmd-color, var(--accent-cyan));
        }

        /* Quick Reference */
        .quick-ref {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 14px 18px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .quick-ref h3 {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .ref-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .ref-item {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 10px 12px;
        }

        .ref-item-title {
            font-size: 0.72rem;
            color: var(--accent-cyan);
            margin-bottom: 4px;
            font-weight: 500;
        }

        .ref-item-cmd {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.68rem;
            color: var(--accent-green);
            margin-bottom: 3px;
        }

        .ref-item-desc {
            font-size: 0.65rem;
            color: var(--text-muted);
        }

        /* Features Row */
        .features-row {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
        }

        .feature-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 12px 8px;
            text-align: center;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .feature-icon { font-size: 1.2rem; margin-bottom: 4px; }
        .feature-title { font-size: 0.7rem; color: var(--text-primary); margin-bottom: 2px; }
        .feature-desc { font-size: 0.6rem; color: var(--text-muted); line-height: 1.3; }

        /* Footer */
        .footer {
            text-align: center;
            padding: 16px;
            color: var(--text-muted);
            font-size: 0.7rem;
        }

        .footer a { color: var(--accent-cyan); text-decoration: none; }

        /* Responsive */
        @media (max-width: 1000px) {
            .commands-grid { grid-template-columns: repeat(2, 1fr); }
            .ref-grid { grid-template-columns: repeat(2, 1fr); }
            .features-row { grid-template-columns: repeat(3, 1fr); }
        }

        @media (max-width: 600px) {
            .app { padding: 16px; }
            .commands-grid { grid-template-columns: 1fr; }
            .ref-grid { grid-template-columns: 1fr; }
            .features-row { grid-template-columns: repeat(2, 1fr); }
        }

        ::-webkit-scrollbar { width: 5px; height: 5px; }
        ::-webkit-scrollbar-track { background: var(--bg-secondary); }
        ::-webkit-scrollbar-thumb { background: var(--border-subtle); border-radius: 3px; }
    </style>
</head>
<body>
    <div class="ambient-bg">
        <div class="ambient-orb orb-1"></div>
        <div class="ambient-orb orb-2"></div>
    </div>

    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">ğŸš€</div>
                <h1>Admin Workflow v1.4</h1>
            </div>
            <div class="version-badge">7é˜¶æ®µ Â· 8å‘½ä»¤ Â· 7ä»£ç† Â· AI é©±åŠ¨</div>
        </header>

        <!-- Compact Flow Bar (7 é˜¶æ®µç²¾ç®€ç‰ˆ) -->
        <div class="flow-bar">
            <div class="flow-node node-init" data-stage="init"><span class="flow-node-icon">ğŸ¬</span><span class="flow-node-name">INIT</span></div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-start" data-stage="start"><span class="flow-node-icon">ğŸ“‹</span><span class="flow-node-name">START</span><span class="flow-node-badge">ä¸€ç«™å¼</span></div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-design" data-stage="design"><span class="flow-node-icon">ğŸ¨</span><span class="flow-node-name">DESIGN</span><span class="flow-node-badge">å«æƒé™</span></div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-audit" data-stage="audit"><span class="flow-node-icon">ğŸ“‘</span><span class="flow-node-name">AUDIT</span><span class="flow-node-badge">å¤šè½®</span></div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-apply" data-stage="apply"><span class="flow-node-icon">âš¡</span><span class="flow-node-name">APPLY</span></div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-review" data-stage="review"><span class="flow-node-icon">ğŸ”</span><span class="flow-node-name">REVIEW</span><span class="flow-node-badge">å¤šè½®</span></div>
            <span class="flow-arrow">â†’</span>
            <div class="flow-node node-archive" data-stage="archive"><span class="flow-node-icon">ğŸ“¦</span><span class="flow-node-name">ARCHIVE</span></div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content" id="mainContent">
            <!-- Commands Section (Left) -->
            <div class="commands-section">
                <div class="commands-grid" id="commandsGrid">
            <!-- Init -->
            <div class="cmd-card" data-stages="init" style="--cmd-color: #ff6b6b;">
                <div class="cmd-header">
                    <span class="cmd-icon">ğŸ¬</span>
                    <span class="cmd-name">/admin:init</span>
                </div>
                <p class="cmd-desc">åˆå§‹åŒ–é¡¹ç›®ï¼Œæ£€æµ‹æŠ€æœ¯æ ˆï¼Œç”Ÿæˆ OpenSpec é…ç½®ã€‚é¦–æ¬¡ä½¿ç”¨æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚</p>
                <div class="cmd-examples">
                    <code class="cmd-example">/admin:init</code>
                </div>
            </div>

            <!-- Start (å¼•å¯¼å¼ä¿¡æ¯æ”¶é›† Â· æ™ºèƒ½è·å–) -->
            <div class="cmd-card" data-stages="start,init,design" style="--cmd-color: #ffd93d;">
                <div class="cmd-header">
                    <span class="cmd-icon">ğŸ“‹</span>
                    <span class="cmd-name">/admin:start</span>
                    <span class="cmd-badge">æ™ºèƒ½è·å–</span>
                </div>
                <p class="cmd-desc">ğŸ†• â‘  Jiraè·å– â‘¡ APIæ™ºèƒ½è·å–(é»˜è®¤ï¼Œå¯è·³è¿‡) â‘¢ ä¸šåŠ¡åˆ†æ â‘£ å¤æ‚åº¦è¯„ä¼°</p>
                <div class="cmd-examples">
                    <code class="cmd-example">/admin:start PIX-1234  â†’ æ ‡å‡†æµç¨‹</code>
                    <code class="cmd-example">/admin:start PIX-1234 -q  â†’ å¿«é€Ÿ(å‡å°‘å¼•å¯¼)</code>
                    <code class="cmd-example">/admin:start PIX-1234 -f  â†’ å®Œæ•´(æ›´å¤šå¼•å¯¼)</code>
                </div>
            </div>

            <!-- Design (å«æƒé™é…ç½®) -->
            <div class="cmd-card" data-stages="design,start,audit" style="--cmd-color: #00d4ff;">
                <div class="cmd-header">
                    <span class="cmd-icon">ğŸ¨</span>
                    <span class="cmd-name">/admin:design</span>
                    <span class="cmd-badge">å«æ™ºèƒ½è¯„ä¼°</span>
                </div>
                <p class="cmd-desc">ğŸ†• è‡ªåŠ¨è¯„ä¼°éœ€æ±‚å¤æ‚åº¦â†’æ¨èç­–ç•¥â†’å¹¶è¡Œç”Ÿæˆè®¾è®¡æ–¹æ¡ˆã€‚</p>
                <div class="cmd-examples">
                    <code class="cmd-example">/admin:design  â†’ è‡ªåŠ¨è¯„ä¼° + æ¨èç­–ç•¥</code>
                    <code class="cmd-example">/admin:design -q  â†’ è·³è¿‡è¯„ä¼°ï¼Œå¿«é€Ÿ1æ–¹æ¡ˆ</code>
                    <code class="cmd-example">/admin:design -s  â†’ è·³è¿‡è¯„ä¼°ï¼Œæ ‡å‡†2æ–¹æ¡ˆ</code>
                    <code class="cmd-example">/admin:design -d  â†’ è·³è¿‡è¯„ä¼°ï¼Œæ·±åº¦3æ–¹æ¡ˆ</code>
                </div>
            </div>

            <!-- Audit -->
            <div class="cmd-card" data-stages="audit,design,apply" style="--cmd-color: #ff6b6b;">
                <div class="cmd-header">
                    <span class="cmd-icon">ğŸ“‘</span>
                    <span class="cmd-name">/admin:audit</span>
                    <span class="cmd-badge">å¤šè½®è¿­ä»£</span>
                </div>
                <p class="cmd-desc">å®¡é˜…ææ¡ˆï¼Œé¢„è§ˆæ¯ä¸ªä»»åŠ¡çš„ä»£ç é€»è¾‘å’Œå½±å“èŒƒå›´ã€‚</p>
                <div class="cmd-examples">
                    <code class="cmd-example">/admin:audit</code>
                </div>
            </div>

            <!-- Apply -->
            <div class="cmd-card" data-stages="apply,audit,review" style="--cmd-color: #ffd93d;">
                <div class="cmd-header">
                    <span class="cmd-icon">âš¡</span>
                    <span class="cmd-name">/admin:apply</span>
                </div>
                <p class="cmd-desc">é€ä»»åŠ¡ç¡®è®¤æ‰§è¡Œï¼Œæ”¯æŒæš‚åœå’Œé€‰æ‹©æ€§å›æ»šã€‚</p>
                <div class="cmd-examples">
                    <code class="cmd-example">/admin:apply</code>
                    <code class="cmd-example">/admin:apply -c  â†’ ç»§ç»­æ‰§è¡Œ</code>
                    <code class="cmd-example">è¾“å…¥ P â†’ æš‚åœå¹¶å›æ»š</code>
                </div>
            </div>

            <!-- Review -->
            <div class="cmd-card" data-stages="review,apply,archive" style="--cmd-color: #00ff88;">
                <div class="cmd-header">
                    <span class="cmd-icon">ğŸ”</span>
                    <span class="cmd-name">/admin:review</span>
                    <span class="cmd-badge">å¤šè½®è¿­ä»£</span>
                </div>
                <p class="cmd-desc">é€æ–‡ä»¶ä»£ç èµ°è¯»ï¼Œé€‰æ‹©æ€§é‡‡çº³ä¼˜åŒ–ï¼Œç”Ÿæˆ Git æäº¤å»ºè®®ã€‚</p>
                <div class="cmd-examples">
                    <code class="cmd-example">/admin:review</code>
                    <code class="cmd-example">âš ï¸ åªå®¡é˜…æœ¬æ¬¡æ”¹åŠ¨ï¼Œä¸åŠ¨å…¶ä»–ä»£ç </code>
                </div>
            </div>

            <!-- Archive -->
            <div class="cmd-card" data-stages="archive,review" style="--cmd-color: #a855f7;">
                <div class="cmd-header">
                    <span class="cmd-icon">ğŸ“¦</span>
                    <span class="cmd-name">/admin:archive</span>
                </div>
                <p class="cmd-desc">å½’æ¡£ææ¡ˆåˆ° openspec/archives/ï¼Œæ›´æ–°ç´¢å¼•ä¾›æœªæ¥å‚è€ƒã€‚</p>
                <div class="cmd-examples">
                    <code class="cmd-example">/admin:archive</code>
                </div>
            </div>
                </div>
            </div>

            <!-- Stage Detail Panel (Right) -->
            <div class="stage-detail" id="stageDetail">
                <div class="stage-detail-header">
                    <div class="stage-detail-title">
                        <span class="icon" id="detailIcon">ğŸ¨</span>
                        <h3 id="detailTitle">DESIGN</h3>
                    </div>
                </div>
                <p class="stage-detail-desc" id="detailDesc">é˜¶æ®µæè¿°</p>

                <div class="stage-detail-section">
                    <h4>ğŸ“‹ ç›¸å…³å‘½ä»¤</h4>
                    <div id="detailCommands"></div>
                </div>

                <div class="stage-detail-section">
                    <h4>ğŸ’» å¸¸ç”¨ç¤ºä¾‹</h4>
                    <div id="detailExamples"></div>
                </div>

                <div class="stage-tips" id="detailTips">
                    <h5>ğŸ’¡ å°è´´å£«</h5>
                    <ul id="detailTipsList"></ul>
                </div>

                <div class="stage-flow-hint">
                    <span class="prev" id="prevStage">â† ä¸Šä¸€æ­¥</span>
                    <span style="flex: 1; text-align: center;">æµç¨‹å¯¼èˆª</span>
                    <span class="next" id="nextStage">ä¸‹ä¸€æ­¥ â†’</span>
                </div>
            </div>
        </div>

        <!-- Quick Reference -->
        <div class="quick-ref">
            <h3>âš¡ å¸¸ç”¨åœºæ™¯é€ŸæŸ¥ï¼ˆ7é˜¶æ®µç²¾ç®€ç‰ˆï¼‰</h3>
            <div class="ref-grid">
                <div class="ref-item">
                    <div class="ref-item-title">ğŸ“‹ å®Œæ•´å¼€å‘æµç¨‹</div>
                    <div class="ref-item-cmd">start â†’ design â†’ audit â†’ apply â†’ review â†’ archive</div>
                    <div class="ref-item-desc">æ ‡å‡†æµç¨‹ï¼Œé€‚åˆå¤æ‚éœ€æ±‚</div>
                </div>
                <div class="ref-item">
                    <div class="ref-item-title">ğŸš€ å¿«é€Ÿä¿®å¤</div>
                    <div class="ref-item-cmd">start -q â†’ design -q â†’ apply â†’ review</div>
                    <div class="ref-item-desc">ç®€å•æ”¹åŠ¨ï¼Œè·³è¿‡æ–¹æ¡ˆå¯¹æ¯”</div>
                </div>
                <div class="ref-item">
                    <div class="ref-item-title">âš¡ æé€Ÿå‡ºæ–¹æ¡ˆ</div>
                    <div class="ref-item-cmd">start PIX-xxx -q â†’ design -q -a</div>
                    <div class="ref-item-desc">å¿«é€Ÿéœ€æ±‚ + è‡ªåŠ¨é€‰æ‹©æ–¹æ¡ˆ</div>
                </div>
                <div class="ref-item">
                    <div class="ref-item-title">ğŸ”„ æš‚åœæ¢å¤</div>
                    <div class="ref-item-cmd">P æš‚åœ â†’ design -r â†’ apply -c</div>
                    <div class="ref-item-desc">å‘ç°é—®é¢˜æ—¶è°ƒæ•´æ–¹æ¡ˆ</div>
                </div>
            </div>
        </div>

        <!-- Features -->
        <div class="features-row">
            <div class="feature-item">
                <div class="feature-icon">ğŸ”„</div>
                <div class="feature-title">å¤šè½®è¿­ä»£</div>
                <div class="feature-desc">API/è®¾è®¡/å®¡é˜…<br>æ”¯æŒå¤šè½®å®Œå–„</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ğŸ¤–</div>
                <div class="feature-title">å¤šä»£ç†ååŒ</div>
                <div class="feature-desc">7ä¸ªä¸“ä¸šä»£ç†<br>å¹¶è¡Œå·¥ä½œ</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ğŸ“¡</div>
                <div class="feature-title">API é›†æˆ</div>
                <div class="feature-desc">Apifox æ–‡æ¡£<br>è‡ªåŠ¨æå–</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">âœ‹</div>
                <div class="feature-title">ç”¨æˆ·æ§åˆ¶</div>
                <div class="feature-desc">æ¯æ­¥ç¡®è®¤<br>Git ä»…å»ºè®®</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ğŸ”™</div>
                <div class="feature-title">é€‰æ‹©æ€§å›æ»š</div>
                <div class="feature-desc">æš‚åœåä¿ç•™<br>éƒ¨åˆ†ä»»åŠ¡</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">ğŸ”</div>
                <div class="feature-title">ä»£ç èµ°è¯»</div>
                <div class="feature-desc">åªå®¡é˜…æ”¹åŠ¨<br>ä¸è¿‡åº¦è®¾è®¡</div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Made with â¤ï¸ for TrueSightAI Â· <a href="https://github.com/lianjunbin/ljb_ai_workflow_kit">GitHub</a></p>
        </footer>
    </div>

    <script>
        // æµç¨‹é˜¶æ®µé¡ºåºå®šä¹‰ï¼ˆ7é˜¶æ®µç²¾ç®€ç‰ˆï¼‰
        const stageOrder = ['init', 'start', 'design', 'audit', 'apply', 'review', 'archive'];

        // é˜¶æ®µè¯¦æƒ…æ•°æ®
        const stageData = {
            init: {
                icon: 'ğŸ¬',
                title: 'INIT Â· åˆå§‹åŒ–',
                color: '#ff6b6b',
                desc: 'åˆå§‹åŒ–é¡¹ç›®é…ç½®ï¼Œæ£€æµ‹æŠ€æœ¯æ ˆï¼Œç”Ÿæˆ OpenSpec ç›®å½•ç»“æ„ã€‚ä»…é¦–æ¬¡ä½¿ç”¨æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚',
                commands: [
                    { name: '/admin:init', desc: 'åˆå§‹åŒ–å½“å‰é¡¹ç›®çš„ OpenSpec é…ç½®' }
                ],
                examples: [
                    '/admin:init'
                ],
                tips: [
                    'é¦–æ¬¡ä½¿ç”¨å·¥ä½œæµæ—¶æ‰§è¡Œ',
                    'ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®æŠ€æœ¯æ ˆ',
                    'ç”Ÿæˆ openspec/ ç›®å½•ç»“æ„'
                ]
            },
            start: {
                icon: 'ğŸ“‹',
                title: 'START Â· éœ€æ±‚å‡†å¤‡',
                color: '#ffd93d',
                desc: 'ğŸ†• å››æ­¥æµç¨‹ï¼šâ‘  Jiraéœ€æ±‚è·å–ï¼ˆcurlæ‹‰å– + å¼•å¯¼é—®é¢˜ï¼‰ â‘¡ APIæ–‡æ¡£æ”¶é›†ï¼ˆğŸ¤–æ™ºèƒ½è·å–ä¸ºé»˜è®¤ï¼Œå¯è·³è¿‡ï¼‰ â‘¢ ä¸šåŠ¡ä¸Šä¸‹æ–‡åˆ†æï¼ˆAIæŠ¥å‘Šï¼‰ â‘£ å¤æ‚åº¦è¯„ä¼°ã€‚',
                commands: [
                    { name: '/admin:start <Jiraç¼–å·>', desc: 'æ ‡å‡†æµç¨‹ï¼šå®Œæ•´å››æ­¥' },
                    { name: '/admin:start <Jiraç¼–å·> -q', desc: 'å¿«é€Ÿæ¨¡å¼ï¼šå‡å°‘å¼•å¯¼' },
                    { name: '/admin:start <Jiraç¼–å·> -f', desc: 'å®Œæ•´æ¨¡å¼ï¼šæ›´å¤šå¼•å¯¼' }
                ],
                examples: [
                    '/admin:start PIX-1234',
                    '/admin:start PIX-1234 -q',
                    '/admin:start PIX-1234 -f'
                ],
                tips: [
                    'é¦–æ¬¡ä½¿ç”¨ä¼šå¼•å¯¼é…ç½®Jiraå‡­è¯',
                    'APIæ”¶é›†é»˜è®¤æ™ºèƒ½è·å–ï¼ˆAIè‡ªåŠ¨ç‚¹å‡»ï¼‰ï¼Œå¯è·³è¿‡',
                    'APIæ”¶é›†ç”¨äºå­—æ®µä¼˜åŒ–ï¼Œéå¿…é¡»',
                    'ä¸šåŠ¡åˆ†ææŠ¥å‘Šå¯å¤šè½®ä¿®æ”¹å®Œå–„'
                ]
            },
            design: {
                icon: 'ğŸ”¬ğŸ¨',
                title: 'DESIGN Â· æ™ºèƒ½è¯„ä¼° + è®¾è®¡',
                color: '#00d4ff',
                desc: 'ğŸ†• è‡ªåŠ¨è¯„ä¼°éœ€æ±‚å¤æ‚åº¦ï¼Œæ£€æµ‹è”åŠ¨å½±å“ï¼Œæ™ºèƒ½æ¨èç­–ç•¥ï¼Œå¹¶è¡Œç”Ÿæˆå¤šä¸ªè®¾è®¡æ–¹æ¡ˆã€‚',
                commands: [
                    { name: '/admin:design', desc: 'è‡ªåŠ¨è¯„ä¼° + æ¨èç­–ç•¥' },
                    { name: '/admin:design -q', desc: 'å¿«é€Ÿæ¨¡å¼ï¼ˆ1æ–¹æ¡ˆï¼‰' },
                    { name: '/admin:design -s', desc: 'æ ‡å‡†æ¨¡å¼ï¼ˆ2æ–¹æ¡ˆï¼‰' },
                    { name: '/admin:design -d', desc: 'æ·±åº¦æ¨¡å¼ï¼ˆ3æ–¹æ¡ˆï¼‰' }
                ],
                examples: [
                    '/admin:design',
                    '/admin:design -q',
                    '/admin:design -s -a'
                ],
                tips: [
                    'é»˜è®¤è‡ªåŠ¨è¯„ä¼°å¤æ‚åº¦',
                    'æ£€æµ‹è”åŠ¨å½±å“ç‚¹é˜²æ­¢é—æ¼',
                    'å¤æ‚éœ€æ±‚è‡ªåŠ¨å¯ç”¨ Brainstorming',
                    '-a å‚æ•°è‡ªåŠ¨é€‰æ‹©æ¨èæ–¹æ¡ˆ'
                ]
            },
            audit: {
                icon: 'ğŸ“‘',
                title: 'AUDIT Â· ææ¡ˆå®¡é˜…',
                color: '#ff6b6b',
                desc: 'å®¡é˜…ææ¡ˆå†…å®¹ï¼Œé¢„è§ˆæ¯ä¸ªä»»åŠ¡çš„ä»£ç é€»è¾‘ï¼Œåˆ†æå½±å“èŒƒå›´ã€‚',
                commands: [
                    { name: '/admin:audit', desc: 'å®¡é˜…å½“å‰ææ¡ˆ' },
                    { name: '/admin:audit --code-only', desc: 'åªçœ‹ä»£ç é€»è¾‘' }
                ],
                examples: [
                    '/admin:audit',
                    '/admin:audit --code-only'
                ],
                tips: [
                    'æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä»£ç é¢„è§ˆ',
                    'æ˜¾ç¤ºæ–‡ä»¶ä¾èµ–å…³ç³»å›¾',
                    'æ”¯æŒå¤šè½®è¿­ä»£ä¿®æ”¹ææ¡ˆ'
                ]
            },
            apply: {
                icon: 'âš¡',
                title: 'APPLY Â· åº”ç”¨ä»£ç ',
                color: '#ffd93d',
                desc: 'é€ä»»åŠ¡ç¡®è®¤æ‰§è¡Œï¼Œæ”¯æŒæš‚åœå’Œé€‰æ‹©æ€§å›æ»šã€‚',
                commands: [
                    { name: '/admin:apply', desc: 'å¼€å§‹æ‰§è¡Œä»»åŠ¡' },
                    { name: '/admin:apply -c', desc: 'ç»§ç»­æ‰§è¡Œ' },
                    { name: 'è¾“å…¥ P', desc: 'æš‚åœå¹¶é€‰æ‹©å›æ»š' }
                ],
                examples: [
                    '/admin:apply',
                    '/admin:apply -c',
                    'P'
                ],
                tips: [
                    'æ¯ä¸ªä»»åŠ¡æ‰§è¡Œå‰ä¼šç¡®è®¤',
                    'æ”¯æŒæš‚åœåé€‰æ‹©ä¿ç•™éƒ¨åˆ†ä»»åŠ¡',
                    'æš‚åœåå¯è°ƒæ•´æ–¹æ¡ˆå†ç»§ç»­'
                ]
            },
            review: {
                icon: 'ğŸ”',
                title: 'REVIEW Â· ä»£ç èµ°è¯»',
                color: '#00ff88',
                desc: 'é€æ–‡ä»¶ä»£ç èµ°è¯»ï¼Œé€‰æ‹©æ€§é‡‡çº³ä¼˜åŒ–å»ºè®®ï¼Œç”Ÿæˆ Git æäº¤å»ºè®®ã€‚',
                commands: [
                    { name: '/admin:review', desc: 'å¼€å§‹ä»£ç èµ°è¯»' }
                ],
                examples: [
                    '/admin:review'
                ],
                tips: [
                    'åªå®¡é˜…æœ¬æ¬¡æ”¹åŠ¨çš„æ–‡ä»¶',
                    'ä¸ä¼šä¿®æ”¹æ— å…³ä»£ç ',
                    'ç”Ÿæˆè§„èŒƒçš„ commit å»ºè®®',
                    'ä¼˜åŒ–å»ºè®®å¯é€‰æ‹©æ€§é‡‡çº³'
                ]
            },
            archive: {
                icon: 'ğŸ“¦',
                title: 'ARCHIVE Â· å½’æ¡£',
                color: '#a855f7',
                desc: 'å½’æ¡£ææ¡ˆåˆ° openspec/archives/ï¼Œæ›´æ–°ç´¢å¼•ä¾›æœªæ¥å‚è€ƒã€‚',
                commands: [
                    { name: '/admin:archive', desc: 'å½’æ¡£å½“å‰ææ¡ˆ' }
                ],
                examples: [
                    '/admin:archive'
                ],
                tips: [
                    'è‡ªåŠ¨æ›´æ–°å½’æ¡£ç´¢å¼•',
                    'ä¾¿äºæœªæ¥æŸ¥é˜…ç±»ä¼¼åŠŸèƒ½',
                    'ä¿ç•™å®Œæ•´çš„è®¾è®¡å†³ç­–è®°å½•'
                ]
            }
        };

        // è·å– DOM å…ƒç´ 
        const flowNodes = document.querySelectorAll('.flow-node');
        const cmdCards = document.querySelectorAll('.cmd-card');
        const stageDetail = document.getElementById('stageDetail');
        const prevStageBtn = document.getElementById('prevStage');
        const nextStageBtn = document.getElementById('nextStage');

        let currentSelectedStage = null;

        // æ˜¾ç¤ºé˜¶æ®µè¯¦æƒ…
        function showStageDetail(stage) {
            const data = stageData[stage];
            if (!data) return;

            // è®¾ç½®é¢œè‰²å˜é‡
            stageDetail.style.setProperty('--stage-color', data.color);

            // æ›´æ–°å†…å®¹
            document.getElementById('detailIcon').textContent = data.icon;
            document.getElementById('detailTitle').textContent = data.title;
            document.getElementById('detailTitle').style.color = data.color;
            document.getElementById('detailDesc').textContent = data.desc;

            // å‘½ä»¤åˆ—è¡¨
            const commandsHtml = data.commands.map(cmd => `
                <div class="stage-cmd-item">
                    <div class="stage-cmd-name">${cmd.name}</div>
                    <div class="stage-cmd-desc">${cmd.desc}</div>
                </div>
            `).join('');
            document.getElementById('detailCommands').innerHTML = commandsHtml;

            // ç¤ºä¾‹
            const examplesHtml = data.examples.map(ex => `
                <div class="stage-example">${ex}</div>
            `).join('');
            document.getElementById('detailExamples').innerHTML = examplesHtml;

            // å°è´´å£«
            const tipsHtml = data.tips.map(tip => `<li>${tip}</li>`).join('');
            document.getElementById('detailTipsList').innerHTML = tipsHtml;

            // æ›´æ–°ä¸Šä¸‹æ­¥éª¤
            const currentIndex = stageOrder.indexOf(stage);
            const prevStage = currentIndex > 0 ? stageOrder[currentIndex - 1] : null;
            const nextStage = currentIndex < stageOrder.length - 1 ? stageOrder[currentIndex + 1] : null;

            prevStageBtn.textContent = prevStage ? `â† ${stageData[prevStage]?.title.split('Â·')[0].trim() || prevStage.toUpperCase()}` : '';
            prevStageBtn.style.visibility = prevStage ? 'visible' : 'hidden';
            prevStageBtn.dataset.stage = prevStage || '';

            nextStageBtn.textContent = nextStage ? `${stageData[nextStage]?.title.split('Â·')[0].trim() || nextStage.toUpperCase()} â†’` : '';
            nextStageBtn.style.visibility = nextStage ? 'visible' : 'hidden';
            nextStageBtn.dataset.stage = nextStage || '';
        }

        // é€‰æ‹©é˜¶æ®µï¼ˆçº¯åˆ‡æ¢ï¼Œä¸å…³é—­ï¼‰
        function selectStage(stage) {
            if (!stage) return;

            // å¤„ç†åˆå¹¶çš„é˜¶æ®µï¼ˆå¦‚ design,assessï¼‰
            const primaryStage = stage.split(',')[0];

            // åˆ‡æ¢åˆ°æ–°é˜¶æ®µ
            currentSelectedStage = primaryStage;
            flowNodes.forEach(n => n.classList.remove('selected'));

            // æ‰¾åˆ°å¯¹åº”èŠ‚ç‚¹å¹¶é«˜äº®
            const node = document.querySelector(`.flow-node[data-stage*="${primaryStage}"]`);
            if (node) {
                node.classList.add('selected');
            }

            showStageDetail(primaryStage);
        }

        // æµç¨‹èŠ‚ç‚¹ç‚¹å‡»äº‹ä»¶
        flowNodes.forEach(node => {
            node.addEventListener('click', () => {
                selectStage(node.dataset.stage);
            });
        });

        // ä¸Šä¸€æ­¥/ä¸‹ä¸€æ­¥å¯¼èˆª
        prevStageBtn.addEventListener('click', () => {
            if (prevStageBtn.dataset.stage) {
                selectStage(prevStageBtn.dataset.stage);
            }
        });

        nextStageBtn.addEventListener('click', () => {
            if (nextStageBtn.dataset.stage) {
                selectStage(nextStageBtn.dataset.stage);
            }
        });

        // å¡ç‰‡ç‚¹å‡»äº‹ä»¶
        cmdCards.forEach(card => {
            card.addEventListener('click', () => {
                const stages = (card.dataset.stages || '').split(',');
                if (stages.length > 0 && stages[0]) {
                    selectStage(stages[0]);
                }
            });
        });

        // é¡µé¢åŠ è½½æ—¶é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªé˜¶æ®µ
        document.addEventListener('DOMContentLoaded', () => {
            selectStage('init');
        });
    </script>
</body>
</html>
