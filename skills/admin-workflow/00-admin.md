---
description: "管理后台 AI 开发工作流 - 从 Jira 需求到代码交付"
---

# /admin - 工作流总览

执行此命令时，展示以下内容：

---

## Banner

```
╭──────────────────────────────────────────────────────────────────╮
│                                                                  │
│     █████╗ ██████╗ ███╗   ███╗██╗███╗   ██╗                     │
│    ██╔══██╗██╔══██╗████╗ ████║██║████╗  ██║                     │
│    ███████║██║  ██║██╔████╔██║██║██╔██╗ ██║                     │
│    ██╔══██║██║  ██║██║╚██╔╝██║██║██║╚██╗██║                     │
│    ██║  ██║██████╔╝██║ ╚═╝ ██║██║██║ ╚████║                     │
│    ╚═╝  ╚═╝╚═════╝ ╚═╝     ╚═╝╚═╝╚═╝  ╚═══╝                     │
│                                                                  │
│    🚀 管理后台 AI 开发工作流 v1.4                                 │
│    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│    从 Jira 需求到代码交付，AI 全程协助                            │
│                                                                  │
╰──────────────────────────────────────────────────────────────────╯
```

---

## 工作流全貌（7 阶段精简版）

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│  🎬 INIT ─→ 项目初始化                                              │
│     │       检测技术栈，生成配置文件                                 │
│     ↓                                                               │
│  📋 START ─→ 需求准备（一站式）←───┐                                │
│     │        ① Jira 需求获取       │ 🔄 智能适配                   │
│     │        ② API 文档收集（可选） │ -q 快速 / -f 完整             │
│     │        ③ 业务逻辑梳理（按需） │                               │
│     └─────── 满意? ────────────────┘                                │
│     ↓                                                               │
│  🎨 DESIGN ─→ 提案设计 ←──────┐                                     │
│     │         多方案架构设计  │ 🔄 可多轮迭代                       │
│     │         含权限配置设计  │                                      │
│     └─────── 满意? ──────────┘                                      │
│     ↓                                                               │
│  📑 AUDIT ─→ 提案审阅 ←──────┐                                      │
│     │         代码逻辑预览   │ 🔄 可多轮迭代                        │
│     │         影响范围分析   │                                      │
│     └─────── 满意? ──────────┘                                      │
│     ↓                                                               │
│  ⚡ APPLY ─→ 应用代码                                               │
│     │        逐任务确认执行                                         │
│     │        └── 需要补充? → 暂停 + 选择性回滚 → 回到 DESIGN        │
│     ↓                                                               │
│  🔍 REVIEW ─→ 代码走读 ←─────┐                                      │
│     │        更新任务状态     │ 🔄 支持多轮迭代                       │
│     │        逐文件走读优化   │                                      │
│     │        Git 提交建议     │                                      │
│     └────── 满意? ───────────┘                                      │
│     ↓                                                               │
│  📦 ARCHIVE ─→ 归档                                                 │
│               提案归档，更新索引                                     │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

💡 v1.4 精简：合并 START + API + BEFORE 为一站式需求准备
```

---

## 可用命令

```
📋 命令清单
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  /admin              显示本页面（工作流总览）
  /admin --help       显示完整帮助文档

  ─────────────────────────────────────────────────────────────────────

  /admin:init         🎬 初始化项目
                      检测技术栈，生成 openspec/ 配置

  /admin:start        📋 需求准备（引导式信息收集）
                      ┌────────────────────────────────────────────┐
                      │ 通过引导性问答收集信息，生成 OpenSpec 提案  │
                      │                                            │
                      │   Step 1: Jira 需求获取 + 引导性问题       │
                      │   Step 2: API 文档收集（可选，用于字段优化）│
                      │           🤖 智能获取（默认）- AI 自动点击 │
                      │           📋 手动提供（备选）- 复制/截图   │
                      │   Step 3: 业务上下文收集 + AI 分析         │
                      │   Step 4: 复杂度评估 → 生成 proposal.md    │
                      └────────────────────────────────────────────┘
                      👉 /admin:start PIX-1234       (标准流程)
                      👉 /admin:start -q             (减少引导)
                      👉 /admin:start -f             (更多引导)

  /admin:design       🎨 提案设计（交互选择 或 快捷参数）
                      ┌──────────────────────────────────────────┐
                      │ 无参数时显示选择菜单:                     │
                      │   [1] 🚀 快速 - 1个方案                   │
                      │   [2] ⭐ 标准 - 2个方案 ← 推荐             │
                      │   [3] 💎 深度 - 3个方案                   │
                      └──────────────────────────────────────────┘
                      快捷: -q 快速 / -s 标准 / -d 深度 / -a 自动

  /admin:audit        📑 提案审阅
                      代码逻辑预览 + 影响分析（可多轮迭代）

  /admin:apply        ⚡ 应用代码
                      逐任务确认执行
                      👉 /admin:apply       (从头开始)
                      👉 /admin:apply -c    (继续执行)
                      👉 执行中输入 P 可暂停并回滚

  /admin:review       🔍 代码走读（支持多轮迭代）
                      ┌──────────────────────────────────────────┐
                      │ 1. 更新任务状态                          │
                      │ 2. 逐文件走读代码，提出优化建议          │
                      │ 3. 选择性采纳，不过度设计                │
                      │ 4. 生成 Git 提交命令（不自动执行）       │
                      └──────────────────────────────────────────┘
                      ⚠️ 只审阅本次改动的文件，绝不动其他代码

  /admin:archive      📦 归档
                      归档提案（复用 OpenSpec 归档）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 使用技巧：
   • 不带参数 → 显示交互菜单，看到所有选项
   • 带参数   → 跳过菜单，直接执行
   • 用英文全称（如 quick）或简写（如 -q）都可以
```

---

## 快速开始

```
💡 新手？试试这样：

  1️⃣ 初始化项目（只需一次）
     👉 /admin:init

  2️⃣ 开始一个需求
     👉 /admin:start PIX-8456

  3️⃣ 跟着提示走就行了！
     每一步都会告诉你下一步该做什么 😊

────────────────────────────────────────────────────────────────────────

💪 老手？用一键流程：

  👉 /admin:start PIX-8456 --continue

  这会自动串联 START → BEFORE → DESIGN，
  到设计方案选择时才停下来等你

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 多代理协同

```
┌─────────────────────────────────────────────────────────────────┐
│                    🤖 多代理协同架构                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📋 START 阶段                                                  │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐            │
│  │code-explorer│  │code-explorer│  │code-explorer│            │
│  │  类似功能   │  │  架构模式   │  │  组件使用   │            │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘            │
│         └────────────────┼────────────────┘                    │
│                          ↓                                      │
│  🗺️ BEFORE 阶段                                                 │
│                 ┌────────────────┐                             │
│                 │  brainstorming │                             │
│                 │  业务逻辑梳理  │                             │
│                 └───────┬────────┘                             │
│                         ↓                                       │
│  🎨 DESIGN 阶段                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐            │
│  │code-architect│ │code-architect│ │code-architect│            │
│  │  最小改动   │  │  务实平衡   │  │  清洁架构   │            │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘            │
│         └────────────────┼────────────────┘                    │
│                          ↓                                      │
│  📑 AUDIT 阶段                                                  │
│                 ┌────────────────┐                             │
│                 │ proposal-audit │                             │
│                 │    提案审阅    │                             │
│                 └───────┬────────┘                             │
│                         ↓                                       │
│  🔍 REVIEW 阶段                                                 │
│                 ┌────────────────┐                             │
│                 │  code-walker   │                             │
│                 │    代码走读    │                             │
│                 └───────┬────────┘                             │
│                         │                                       │
│               🔄 多轮迭代直到满意                               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 设计理念

```
┌─────────────────────────────────────────────────────────────────┐
│  🎯 核心理念                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. 📋 需求驱动                                                 │
│     以 Jira 需求 + Apifox API 为核心输入                        │
│                                                                 │
│  2. 🧩 组件复用                                                 │
│     优先使用 pix-component，避免重复造轮子                       │
│                                                                 │
│  3. 🔍 业务优先                                                 │
│     每次改动前先分析业务逻辑                                     │
│                                                                 │
│  4. ✋ 用户控制                                                 │
│     每个任务需确认后才执行，随时可暂停回滚                       │
│                                                                 │
│  5. 📊 增量审查                                                 │
│     只审查本次改动的代码，不做无关修改                           │
│                                                                 │
│  6. 📝 仅建议不执行                                             │
│     Git 提交只给建议，不主动执行                                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 版本历史

| 版本 | 日期 | 变更 |
|------|------|------|
| v1.2 | 2026-02-11 | 新增 /admin:start（Apifox 接口文档获取），分级质量门禁 |
| v1.1 | 2026-02-11 | 拆分 APPLY/END/ARCHIVE，优化用户体验 |
| v1.0 | 2026-02-11 | 初始版本 |
